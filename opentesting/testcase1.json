{
   "id": "testcase1",
   "testapi": 1.0,
   "active": true,
   "description": "summit test case",
   "labels": [
      "stage-all",
      "department-mydepartment",
      "function-myfunction"
   ],
   "injections": [
      {
         "injectid": "inject-kafka-1",
         "cron": [
            "0 * * * * ?",
            "30 * * * * ?"
         ],
         "active": true,
         "service": {
            "type": "kafka",
            "connectstring": "localhost:9092",
            "custom": [
               {
                  "key": "topic",
                  "value": "mytopic1"
               }
            ]
         },
         "sourcefile": "source_kafka_1.json",
         "timetolive": "30s",
         "checks": [
            "check-postgre-1"
         ],
         "replacements": [
            {
               "key": "#testid#",
               "value": [
                  {
                     "order": 1,
                     "type": "regex",
                     "value": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}"
                  }
               ]
            },
            {
               "key": "#content#",
               "value": [
                  {
                     "order": 1,
                     "type": "list",
                     "value": "myvalue1|myvalue2|myvalue3|myvalue4"
                  }
               ]
            }
         ]
      },
      {
         "injectid": "inject-post-1",
         "cron": [],
         "active": true,
         "service": {
            "type": "rest",
            "connectstring": "http://localhost:8080/sendevent",
            "custom": [
               {
                  "key": "type",
                  "value": "POST"
               },
               {
                  "key": "header",
                  "value": "source_post_header_1.json"
               }
            ]
         },
         "sourcefile": "source_post_1.json",
         "checks": [
            "check-get-1"
         ],
         "result2random": [
            "reportid"
         ]
      }
   ],
   "checks": [
      {
         "checkid": "check-postgre-1",
         "active": true,
         "service": {
            "type": "jdbc",
            "connectstring": "jdbc:postgresql://localhost:5432/postgres",
            "username": "postgres",
            "password": "postgres"
         },
         "validations": [
            {
               "order": 1,
               "request": "check_postgre_param_1.sql",
               "response": [
                  "check_postgre_1.json"
               ],
               "type": "equals"
            }
         ],
         "maxwaittime": "1m",
         "mandatory": true,
         "injects": [
            "inject-post-1"
         ]
      },
      {
         "checkid": "check-get-1",
         "active": true,
         "service": {
            "type": "rest",
            "connectstring": "http://localhost:8080/getreport?reportid=#inject-post-1.reportid#",
            "custom": [
               {
                  "key": "type",
                  "value": "GET"
               }
            ]
         },
         "validations": [
            {
               "order": 1,
               "response": [
                  "check_rest_1.txt"
               ],
               "type": "contains"
            }
         ],
         "maxwaittime": "2m",
         "mandatory": false
      }
   ]
}